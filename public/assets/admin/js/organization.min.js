var saleStatisticsChart = document.getElementById("saleStatisticsChart").getContext("2d"),
    usersStatisticsChart = document.getElementById("usersStatisticsChart").getContext("2d"),
    chart = {};

var backgroundColors = [
        "rgba(103, 119, 239, 0.7)",
        "rgba(255, 99, 132, 0.7)",
        
        // Tambahkan warna lain sesuai kebutuhan
    ];

function makeStatisticsChart(t, a, e, s, r) {
    chart[t] = new Chart(a, {
        type: "bar", // Mengubah jenis chart menjadi "bar"
        data: {
            labels: s,
            datasets: [{
                label: e,
                data: r,
                borderWidth: 5,
                borderColor: "#6777ef",
                backgroundColor: "rgba(103, 119, 239, 0.7)", // Ganti warna latar belakang sesuai kebutuhan
                hoverBackgroundColor: "#6777ef",
            }]
        },
        options: {
            legend: { display: !1 },
            scales: {
                yAxes: [{
                    gridLines: { display: !1, drawBorder: !1 },
                    ticks: { stepSize: 150 }
                }],
                xAxes: [{
                    gridLines: { color: "#fbfbfb", lineWidth: 2 }
                }]
            }
        }
    });
}

function getSaleStatisticsData(t) {
    $.post(adminPanelPrefix + "/dashboard/getSaleStatisticsData", { type: t }, function (t) {
        if (t && 200 == t.code) {
            chart && chart.saleStatisticsChart && chart.saleStatisticsChart.destroy();
            makeStatisticsChart("saleStatisticsChart", saleStatisticsChart, "Sale", t.chart.labels, t.chart.data);
        }
    });
}

(function () {
    "use strict";
    $("body").on("click", ".js-sale-chart-month", function (t) {
        t.preventDefault();
        $(this).addClass("btn-primary");
        $(".js-sale-chart-year").removeClass("btn-primary");
        getSaleStatisticsData("day_of_month");
    });

    $("body").on("click", ".js-sale-chart-year", function (t) {
        t.preventDefault();
        $(this).addClass("btn-primary");
        $(".js-sale-chart-month").removeClass("btn-primary");
        getSaleStatisticsData("month_of_year");
    });
})(jQuery);
